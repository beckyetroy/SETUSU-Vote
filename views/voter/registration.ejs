<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Fonts -->
        <link href='https://fonts.googleapis.com/css?family=Inter' rel='stylesheet'>
        <link href='https://fonts.googleapis.com/css?family=Roboto Condensed' rel='stylesheet'>
        <link href="https://fonts.cdnfonts.com/css/aileron" rel="stylesheet">

        <!-- CSS-->
        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

        <!-- JQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha384-Dziy8F2VlJQLMShA6FHWNul/veM9bCkRUaLqr199K94ntO5QUrLJBEbYegdSkkqX" crossorigin="anonymous"></script>

        <!-- Bootstrap JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

        <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

        <title><%= title %></title>
    </head>
    <body>
        <nav class="navbar navbar-expand-lg d-flex justify-content-between">
            <h1 id="admin-dashboard-title"><%= title %></h1>
            <div class="navbar-nav ms-auto">
                <div class="nav-item">
                    <a class="nav-link" href="/">Back to Home Page</a>
                </div>
            </div>
        </nav>
        <div class="container register">
            <form action="/register" method="POST" class="register">
                <h3 class="formTitle">Register to Vote</h3>
                <%= message %>
                <%
                if(data.length > 0)
                {
                    %>
                    <select name="election" id="electionSelect">
                        <option value="" disabled selected>Select an option</option>
                        <%
                        electionData = data.filter((v, i, a) => a.findIndex(t => (t.Id === v.Id)) === i);
                        electionData.forEach(function(election){
                            if (election.Id) {
                        %>
                            <option value="<%= election.Id %>"> <%= election.Description %> </option>
                        <%
                        } 
                            else {}
                        });
                        %>
                    </select>

                    <label>Student Number : </label>
                    <input type="text" placeholder="Enter Student Number" name="studentno" required>
                    <label>First Name(s) : </label>
                    <input type="text" placeholder="Enter First Name(s)" name="fname" required>
                    <label>Last Name : </label>
                    <input type="text" placeholder="Enter Last Name" name="lname" required>
                    <label>Student Email : </label>
                    <input type="text" placeholder="Enter Email" name="email" required>
                    <br>
                    <button type="submit" value="register" class="primaryBtn">REGISTER</button>
                    <%
                }
                else
                {
                    %>
                    No Elections to Register for at this time.
                <%
                }
                %>
            </form>
        </div>

        <img class="logoBubble" src="assets/Logo.png" alt="SETUSU Logo">
    </body>
</html>